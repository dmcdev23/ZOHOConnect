const Joi = require('joi');
const { password, objectId } = require('./custom.validation');

const createOrganization = {
  body: Joi.object().keys({
    name: Joi.string().required(),
    fiscal_year_start_month: Joi.string(),
    currency_code: Joi.string().required(),
    time_zone: Joi.string().required(),
    date_format: Joi.date(),
    field_separator: Joi.string(),
    language_code: Joi.string().min(2).max(2).default('en'),
    industry_type: Joi.string(),
    industry_size: Joi.string(),
    portal_name: Joi.string().required(),
    org_address: Joi.string(),
    remit_to_address: Joi.string(),
    address: Joi.array().items({
      street_address1: Joi.string(),
      street_address2: Joi.string(),
      city: Joi.string(),
      state: Joi.string(),
      country: Joi.string(),
      zip: Joi.string(),
    }),
  }),
};

const updateOrganization = {
  body: Joi.object().keys({
    name: Joi.string().required(),
    fiscal_year_start_month: Joi.string(),
    currency_code: Joi.string(),
    time_zone: Joi.string(),
    date_format: Joi.date(),
    field_separator: Joi.string(),
    language_code: Joi.string(),
    industry_type: Joi.string(),
    industry_size: Joi.string(),
    portal_name: Joi.string(),
    org_address: Joi.string(),
    remit_to_address: Joi.string(),
    address: Joi.array().items({
      street_address1: Joi.string(),
      street_address2: Joi.string(),
      city: Joi.string(),
      state: Joi.string(),
      country: Joi.string(),
      zip: Joi.string(),
    }),
  }),
};

const getItems = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
    itemId: Joi.string(),
  }),
};

const getContact = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
  }),
};

const createItem = {
  body: Joi.object().keys({
    group_id: Joi.number(),
    group_name: Joi.string(),
    unit: Joi.string(),
    documents: Joi.array().items(Joi.string()),
    item_type: Joi.string(),
    product_type: Joi.string(),
    is_taxable: Joi.boolean(),
    tax_id: Joi.number(),
    description: Joi.string(),
    purchase_account_id: Joi.number(),
    inventory_account_id: Joi.number(),
    attribute_name1: Joi.string(),
    name: Joi.string().required(),
    rate: Joi.number(),
    purchase_rate: Joi.number(),
    reorder_level: Joi.number(),
    initial_stock: Joi.number(),
    initial_stock_rate: Joi.number(),
    vendor_id: Joi.number(),
    vendor_name: Joi.string(),
    sku: Joi.string(),
    upc: Joi.number(),
    ean: Joi.number(),
    isbn: Joi.number(),
    part_number: Joi.number(),
    attribute_option_name1: Joi.string(),
    purchase_description: Joi.string(),
    item_tax_preferences: Joi.array().items({
      tax_id: Joi.number(),
      tax_specification: Joi.string(),
    }),
    hsn_or_sac: Joi.number(),
    sat_item_key_code: Joi.string(),
    unitkey_code: Joi.string(),
    custom_fields: Joi.array().items({
      customfield_id: Joi.string(),
      value: Joi.string(),
    }),
  }),
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
  }),
};

const updateItem = {
  body: Joi.object().keys({
    group_id: Joi.number(),
    group_name: Joi.string(),
    unit: Joi.string(),
    documents: Joi.array().items(Joi.string()),
    item_type: Joi.string(),
    product_type: Joi.string(),
    is_taxable: Joi.boolean(),
    tax_id: Joi.number(),
    description: Joi.string(),
    purchase_account_id: Joi.number(),
    inventory_account_id: Joi.number(),
    attribute_name1: Joi.string(),
    name: Joi.string().required(),
    rate: Joi.number(),
    purchase_rate: Joi.number(),
    reorder_level: Joi.number(),
    initial_stock: Joi.number(),
    initial_stock_rate: Joi.number(),
    vendor_id: Joi.number(),
    vendor_name: Joi.string(),
    sku: Joi.string(),
    upc: Joi.number(),
    ean: Joi.number(),
    isbn: Joi.number(),
    part_number: Joi.number(),
    attribute_option_name1: Joi.string(),
    purchase_description: Joi.string(),
    item_tax_preferences: Joi.array().items({
      tax_id: Joi.number(),
      tax_specification: Joi.string(),
    }),
    hsn_or_sac: Joi.number(),
    sat_item_key_code: Joi.string(),
    unitkey_code: Joi.string(),
    custom_fields: Joi.array().items({
      customfield_id: Joi.string(),
      value: Joi.string(),
    }),
  }),
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
    itemId: Joi.string().required(),
  }),
};

const createSale = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
  }),
  body: Joi.object().keys({
    customer_id: Joi.string().required(),
    salesorder_number: Joi.string(),
    date: Joi.string(),
    shipment_date: Joi.string(),
    custom_fields: Joi.array().items({
      custom_field_id: Joi.string(),
      index: Joi.number(),
      label: Joi.string(),
      value: Joi.string(),
    }),
    reference_number: Joi.string(),
    line_items: Joi.array()
      .items({
        item_id: Joi.any(),
        name: Joi.string(),
        description: Joi.string(),
        rate: Joi.number(),
        quantity: Joi.number(),
        unit: Joi.string(),
        tax_id: Joi.string(),
        tds_tax_id: Joi.string(),
        tax_name: Joi.string(),
        tax_type: Joi.string(),
        tax_percentage: Joi.number(),
        item_total: Joi.number(),
        warehouse_id: Joi.any(),
        hsn_or_sac: Joi.string(),
        sat_item_key_code: Joi.string(),
        unitkey_code: Joi.string(),
      })
      .required(),
    notes: Joi.string(),
    terms: Joi.string(),
    discount: Joi.string(),
    is_discount_before_tax: Joi.boolean(),
    discount_type: Joi.string(),
    shipping_charge: Joi.number(),
    delivery_method: Joi.string(),
    adjustment: Joi.number(),
    pricebook_id: Joi.string(),
    salesperson_id: Joi.string(),
    adjustment_description: Joi.string(),
    is_inclusive_tax: Joi.boolean(),
    exchange_rate: Joi.number(),
    template_id: Joi.string(),
    documents: Joi.array().items({
      can_send_in_mail: Joi.boolean(),
      file_name: Joi.string(),
      file_type: Joi.string(),
      file_size_formatted: Joi.string(),
      attachment_order: 1,
      document_id: Joi.any(),
      file_size: Joi.number(),
    }),
    billing_address_id: Joi.string(),
    shipping_address_id: Joi.string(),
    place_of_supply: Joi.string(),
    gst_treatment: Joi.string(),
    gst_no: Joi.string(),
  }),
};

const updateSale = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
    salesId: Joi.string().required(),
  }),
  body: Joi.object().keys({
    customer_id: Joi.string().required(),
    salesorder_number: Joi.string().required(),
    date: Joi.string(),
    shipment_date: Joi.string(),
    custom_fields: Joi.array().items({
      custom_field_id: Joi.string(),
      index: Joi.number(),
      label: Joi.string(),
      value: Joi.string(),
    }),
    reference_number: Joi.string(),
    line_items: Joi.array()
      .items({
        item_id: Joi.any(),
        name: Joi.string(),
        description: Joi.string(),
        rate: Joi.number(),
        quantity: Joi.number(),
        unit: Joi.string(),
        tax_id: Joi.string(),
        tds_tax_id: Joi.string(),
        tax_name: Joi.string(),
        tax_type: Joi.string(),
        tax_percentage: Joi.number(),
        item_total: Joi.number(),
        warehouse_id: Joi.any(),
        hsn_or_sac: Joi.string(),
        sat_item_key_code: Joi.string(),
        unitkey_code: Joi.string(),
      })
      .required(),
    notes: Joi.string(),
    terms: Joi.string(),
    discount: Joi.string(),
    is_discount_before_tax: Joi.boolean(),
    discount_type: Joi.string(),
    shipping_charge: Joi.number(),
    delivery_method: Joi.string(),
    adjustment: Joi.number(),
    pricebook_id: Joi.string(),
    salesperson_id: Joi.string(),
    adjustment_description: Joi.string(),
    is_inclusive_tax: Joi.boolean(),
    exchange_rate: Joi.number(),
    template_id: Joi.string(),
    documents: Joi.array().items({
      can_send_in_mail: Joi.boolean(),
      file_name: Joi.string(),
      file_type: Joi.string(),
      file_size_formatted: Joi.string(),
      attachment_order: 1,
      document_id: Joi.any(),
      file_size: Joi.number(),
    }),
    billing_address_id: Joi.string(),
    shipping_address_id: Joi.string(),
    place_of_supply: Joi.string(),
    gst_treatment: Joi.string(),
    gst_no: Joi.string(),
  }),
};

const getSale = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
    salesId: Joi.string(),
  }),
};

const createContact = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
  }),
  body: Joi.object().keys({
    contact_name: Joi.string().required(),
    company_name: Joi.string(),
    payment_terms: Joi.number(),
    currency_id: Joi.string(),
    website: Joi.string(),
    contact_type: Joi.string(),
    custom_fields: Joi.array().items({
      value: Joi.string(),
      index: Joi.number(),
    }),
    billing_address: {
      attention: Joi.string(),
      address: Joi.string(),
      street2: Joi.string(),
      city: Joi.string(),
      state: Joi.string(),
      zip: Joi.number(),
      country: Joi.string(),
    },
    shipping_address: {
      attention: Joi.string(),
      address: Joi.string(),
      street2: Joi.string(),
      city: Joi.string(),
      state: Joi.string(),
      zip: Joi.number(),
      country: Joi.string(),
    },
    contact_persons: Joi.array().items({
      salutation: Joi.string(),
      first_name: Joi.string(),
      last_name: Joi.string(),
      email: Joi.string(),
      phone: Joi.string(),
      mobile: Joi.string(),
      is_primary_contact: Joi.boolean(),
    }),
    default_templates: {
      invoice_template_id: Joi.string(),
      invoice_template_name: Joi.string(),
      estimate_template_id: Joi.string(),
      estimate_template_name: Joi.string(),
      creditnote_template_id: Joi.string(),
      creditnote_template_name: Joi.string(),
      invoice_email_template_id: Joi.string(),
      invoice_email_template_name: Joi.string(),
      estimate_email_template_id: Joi.string(),
      estimate_email_template_name: Joi.string(),
      creditnote_email_template_id: Joi.string(),
      creditnote_email_template_name: Joi.string(),
    },
    language_code: Joi.string(),
    notes: Joi.string(),
    vat_reg_no: Joi.string(),
    tax_reg_no: Joi.string(),
    country_code: Joi.string(),
    vat_treatment: Joi.string(),
    tax_treatment: Joi.string(),
    tax_regime: Joi.string(),
    is_tds_registered: Joi.boolean(),
    avatax_exempt_no: Joi.string(),
    avatax_use_code: Joi.string(),
    tax_exemption_id: Joi.any(),
    tax_authority_id: Joi.any(),
    tax_id: Joi.any(),
    is_taxable: Joi.boolean(),
    facebook: Joi.string(),
    twitter: Joi.string(),
    place_of_contact: Joi.string(),
    gst_no: Joi.string(),
    gst_treatment: Joi.string(),
    tax_authority_name: Joi.string(),
    tax_exemption_code: Joi.string(),
  }),
};

const updateContact = {
  query: Joi.object().keys({
    organization_id: Joi.string().required(),
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
    contactId: Joi.string().required(),
  }),
  body: Joi.object().keys({
    contact_name: Joi.string().required(),
    company_name: Joi.string(),
    payment_terms: Joi.number(),
    currency_id: Joi.string(),
    website: Joi.string(),
    contact_type: Joi.string(),
    custom_fields: Joi.array().items({
      value: Joi.string(),
      index: Joi.number(),
    }),
    billing_address: {
      attention: Joi.string(),
      address: Joi.string(),
      street2: Joi.string(),
      city: Joi.string(),
      state: Joi.string(),
      zip: Joi.number(),
      country: Joi.string(),
    },
    shipping_address: {
      attention: Joi.string(),
      address: Joi.string(),
      street2: Joi.string(),
      city: Joi.string(),
      state: Joi.string(),
      zip: Joi.number(),
      country: Joi.string(),
    },
    contact_persons: Joi.array().items({
      salutation: Joi.string(),
      first_name: Joi.string(),
      last_name: Joi.string(),
      email: Joi.string(),
      phone: Joi.string(),
      mobile: Joi.string(),
      is_primary_contact: Joi.boolean(),
    }),
    default_templates: {
      invoice_template_id: Joi.string(),
      invoice_template_name: Joi.string(),
      estimate_template_id: Joi.string(),
      estimate_template_name: Joi.string(),
      creditnote_template_id: Joi.string(),
      creditnote_template_name: Joi.string(),
      invoice_email_template_id: Joi.string(),
      invoice_email_template_name: Joi.string(),
      estimate_email_template_id: Joi.string(),
      estimate_email_template_name: Joi.string(),
      creditnote_email_template_id: Joi.string(),
      creditnote_email_template_name: Joi.string(),
    },
    language_code: Joi.string(),
    notes: Joi.string(),
    vat_reg_no: Joi.string(),
    tax_reg_no: Joi.string(),
    country_code: Joi.string(),
    vat_treatment: Joi.string(),
    tax_treatment: Joi.string(),
    tax_regime: Joi.string(),
    is_tds_registered: Joi.boolean(),
    avatax_exempt_no: Joi.string(),
    avatax_use_code: Joi.string(),
    tax_exemption_id: Joi.any(),
    tax_authority_id: Joi.any(),
    tax_id: Joi.any(),
    is_taxable: Joi.boolean(),
    facebook: Joi.string(),
    twitter: Joi.string(),
    place_of_contact: Joi.string(),
    gst_no: Joi.string(),
    gst_treatment: Joi.string(),
    tax_authority_name: Joi.string(),
    tax_exemption_code: Joi.string(),
  }),
};

const createLicence = {
  body: Joi.object().keys({
    clientId: Joi.string().required(),
    clientSecret: Joi.string().required(),
    licenceNumber: Joi.string().required(),
    refreshToken: Joi.string().required(),
    accessToken: Joi.string(),
  }),
};

const getOrganizations = {
  query: Joi.object().keys({
    clientId: Joi.string().required(),
    licenceNumber: Joi.string().required(),
  }),
};

module.exports = {
  createOrganization,
  getOrganizations,
  updateOrganization,
  createItem,
  getItems,
  updateItem,
  createSale,
  createContact,
  getContact,
  updateContact,
  updateSale,
  getSale,
};
